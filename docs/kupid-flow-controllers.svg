<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1061" height="697"><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="1061" height="697"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16.5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="481.84245233176694" y="26.3876361" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">kupid flow</text></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 74.32528014452735 103.26361593799999 L 74.32528014452735 697.8650160579999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 305.40260305982684 103.26361593799999 L 305.40260305982684 697.8650160579999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 648.935171946806 103.26361593799999 L 648.935171946806 697.8650160579999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 968.0369774242799 103.26361593799999 L 968.0369774242799 697.8650160579999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 8.795878700000003 55.765870957999994 L 139.8546815890547 55.765870957999994 L 139.8546815890547 103.26361593799999 L 8.795878700000003 103.26361593799999 L 8.795878700000003 55.765870957999994 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="27.88293547900001" y="85.67185853800001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">user/controller</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 237.8331167764323 55.765870957999994 L 372.97208934322134 55.765870957999994 L 372.97208934322134 103.26361593799999 L 237.8331167764323 103.26361593799999 L 237.8331167764323 55.765870957999994 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="256.9201735554323" y="85.67185853800001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">kube-apiserver</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 568.8603069402669 55.765870957999994 L 729.0100369533451 55.765870957999994 L 729.0100369533451 103.26361593799999 L 568.8603069402669 103.26361593799999 L 568.8603069402669 55.765870957999994 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="587.947363719267" y="85.67185853800001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Mutating Webhook</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 883.355827322526 55.765870957999994 L 1052.7181275260339 55.765870957999994 L 1052.7181275260339 103.26361593799999 L 883.355827322526 103.26361593799999 L 883.355827322526 55.765870957999994 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="902.442884101526" y="85.67185853800001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">statefulset controller</text></g></g><g><g><g><rect fill="white" stroke="none" x="95.14219306786067" y="138.44713073799997" width="189.4434970686328" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="97.78095667786067" y="154.279712398" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">ClusterPodSchedulingPolicy</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 74.32528014452735 161.31641535799997 L 302.4706434931602 161.31641535799997" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(305.40260305982684,161.31641535799997) translate(-305.40260305982684,-161.31641535799997)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 290.7428052264935 153.9865164413333 L 305.40260305982684 161.31641535799997 L 290.7428052264935 168.64631427466665 Z"/></g></g><g><g><rect fill="white" stroke="none" x="127.3289911635638" y="187.70405145799995" width="125.06990087722656" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="129.9677547735638" y="203.53663311799997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Create StatefulSet</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 74.32528014452735 210.57333607799995 L 302.4706434931602 210.57333607799995" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(305.40260305982684,210.57333607799995) translate(-305.40260305982684,-210.57333607799995)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 290.7428052264935 203.24343716133328 L 305.40260305982684 210.57333607799995 L 290.7428052264935 217.90323499466663 Z"/></g></g><g><g><rect fill="white" stroke="none" x="326.2195159831602" y="236.96097217799993" width="301.8987430403125" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="328.8582795931602" y="252.79355383799995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">AdmissionRequest for the created StatefulSet</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 305.40260305982684 259.83025679799994 L 646.0032123801393 259.83025679799994" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(648.935171946806,259.83025679799994) translate(-648.935171946806,-259.83025679799994)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 634.2753741134727 252.50035788133326 L 648.935171946806 259.83025679799994 L 634.2753741134727 267.1601557146666 Z"/></g></g><g><g><rect fill="white" stroke="none" x="669.7520848701394" y="286.21789289799995" width="292.12777746414065" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="672.3908484801393" y="302.05047455799996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Find applicable ClusterPodSchedulingPolicy</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 648.935171946806 309.087177518 L 719.302201546806 309.087177518 L 719.302201546806 331.95646213799995 L 651.8671315134727 331.95646213799995" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(648.935171946806,331.95646213799995) translate(-648.935171946806,-331.95646213799995)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 663.5949697801393 324.6265632213333 L 648.935171946806 331.95646213799995 L 663.5949697801393 339.2863610546666 Z"/></g></g><g><g><rect fill="white" stroke="none" x="669.7520848701394" y="358.34409823799996" width="279.1070865461719" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="669.7520848701394" y="375.93585563799996" width="281.5479739973438" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="672.3908484801393" y="374.176679898" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Mutate the pod template in the StatefulSet</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="672.3908484801393" y="391.768437298" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">by applying the specified scheduling policy</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 648.935171946806 398.805140258 L 719.302201546806 398.805140258 L 719.302201546806 421.67442487799997 L 651.8671315134727 421.67442487799997" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(648.935171946806,421.67442487799997) translate(-648.935171946806,-421.67442487799997)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 663.5949697801393 414.3445259613333 L 648.935171946806 421.67442487799997 L 663.5949697801393 429.0043237946666 Z"/></g></g><g><g><rect fill="white" stroke="none" x="326.2230865398008" y="448.062060978" width="301.8916019270313" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="328.86185014980083" y="463.894642638" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">AdmissionResponse with mutated StatefulSet</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 648.935171946806 470.93134559799995 L 308.3345626264935 470.93134559799995" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(305.40260305982684,470.93134559799995) translate(-305.40260305982684,-470.93134559799995)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 320.0624008931602 463.6014466813333 L 305.40260305982684 470.93134559799995 L 320.0624008931602 478.2612445146666 Z"/></g></g><g><g><rect fill="white" stroke="none" x="123.25239967186458" y="497.31898169799996" width="133.223083860625" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="125.89116328186458" y="513.151563358" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">StatefulSet Created</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 305.40260305982684 520.1882663179999 L 77.25723971119402 520.1882663179999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(74.32528014452735,520.1882663179999) translate(-74.32528014452735,-520.1882663179999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 88.98507797786068 512.8583674013332 L 74.32528014452735 520.1882663179999 L 88.98507797786068 527.5181652346666 Z"/></g></g><g><g><rect fill="white" stroke="none" x="583.0180536095926" y="546.5759024179998" width="107.40347326492187" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="583.0180536095926" y="564.1676598179998" width="76.99546850417968" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="585.6568172195925" y="562.4084840779998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Watch event for</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="585.6568172195925" y="580.0002414779998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">StatefulSet</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 305.40260305982684 587.0369444379999 L 965.1050178576132 587.0369444379999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(968.0369774242799,587.0369444379999) translate(-968.0369774242799,-587.0369444379999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 953.3771795909466 579.7070455213332 L 968.0369774242799 587.0369444379999 L 953.3771795909466 594.3668433546666 Z"/></g></g><g><g><rect fill="white" stroke="none" x="493.9056878869363" y="613.4245805379999" width="285.6282047102344" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="496.5444514969363" y="629.2571621979998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Create Pod based on the mutated template</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 968.0369774242799 636.2938651579999 L 308.3345626264935 636.2938651579999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(305.40260305982684,636.2938651579999) translate(-305.40260305982684,-636.2938651579999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 320.0624008931602 628.9639662413332 L 305.40260305982684 636.2938651579999 L 320.0624008931602 643.6237640746666 Z"/></g></g></g><g/><g/><g/><g/></g></svg>